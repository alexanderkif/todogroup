(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{3370:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-page",{staticClass:"flex flex-center"},[s("div",{staticClass:"q-my-md"},[s("LangSwitcher"),s("hr"),s("div",{staticClass:"q-mt-md text-h6"},[e._v(e._s(e.$t("Options.user"))+":")]),s("User")],1)])},n=[],a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"q-pa-md flex flex-center"},[s("div",{staticClass:"text-h6 q-mr-md"},[e._v(e._s(e.$t("Options.language"))+":")]),s("q-btn-dropdown",{attrs:{rounded:"",color:"primary",label:e.lang}},[s("q-list",e._l(e.langSet,(function(t){return s("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],key:t.label,attrs:{clickable:""},on:{click:function(s){return e.chooseLang(t)}}},[s("q-item-section",[s("q-item-label",[e._v(e._s(t.label))])],1)],1)})),1)],1)],1)},i=[],o={name:"LangSwitcher",data(){return{}},methods:{chooseLang(e){this.$i18n.locale=e.value,this.$q.cookies.set("lang",e.label,{expires:100}),this.$store.dispatch("lang/changeLang",e.label)}},computed:{lang(){return this.$store.getters["lang/getLang"]},langSet(){return this.$store.getters["lang/getLangSet"]}}},l=o,c=s("2877"),u=s("f20b"),p=s("1c1c"),d=s("66e5"),h=s("4074"),m=s("0170"),U=s("7f67"),g=s("eebe"),f=s.n(g),b=Object(c["a"])(l,a,i,!1,null,null,null),w=b.exports;f()(b,"components",{QBtnDropdown:u["a"],QList:p["a"],QItem:d["a"],QItemSection:h["a"],QItemLabel:m["a"]}),f()(b,"directives",{ClosePopup:U["a"]});var $=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("q-form",{staticClass:"q-gutter-sm",on:{submit:e.submitUser,reset:e.onReset}},[s("q-input",{ref:"name",attrs:{label:e.$t("User.yourName")+" *",hint:e.$t("User.required"),"lazy-rules":"",rules:[function(t){return t&&t.length>0||e.$t("User.rules")}]},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),s("q-input",{ref:"password",attrs:{label:e.$t("User.yourPass")+" *",hint:e.$t("User.required"),"lazy-rules":"",type:e.isPwd?"password":"text",rules:[function(t){return t&&t.length>0||e.$t("User.rules")}]},scopedSlots:e._u([{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.isPwd?"visibility_off":"visibility"},on:{click:function(t){e.isPwd=!e.isPwd}}})]},proxy:!0}]),model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e.newUser||e.editUser?s("q-input",{ref:"phone",attrs:{label:e.$t("User.phone"),mask:"+# (###) ### - ####","unmasked-value":"",hint:e.$t("User.optional")},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}}):e._e(),s("div",{staticClass:"q-mt-md"},[s("q-checkbox",{attrs:{label:e.$t("User.newUser")},on:{input:function(t){e.newUser&&(e.editUser=!1)}},model:{value:e.newUser,callback:function(t){e.newUser=t},expression:"newUser"}})],1),e.getUser&&e.getUser._id?s("div",{staticClass:"q-mb-md"},[s("q-checkbox",{attrs:{label:e.$t("User.editUser")},on:{input:function(t){e.editUser&&(e.newUser=!1)}},model:{value:e.editUser,callback:function(t){e.editUser=t},expression:"editUser"}})],1):e._e(),s("div",{staticClass:"flex flex-center"},[s("q-btn",{attrs:{rounded:"",label:e.$t("User.submit"),type:"submit",color:"primary"}}),e.getUser&&e.getUser._id?s("q-btn",{staticClass:"q-ml-sm",attrs:{rounded:"",label:e.$t("User.exitUser"),type:"reset",color:"primary",flat:""},on:{click:e.onExitUser}}):e._e(),s("q-btn",{staticClass:"q-ml-sm",attrs:{rounded:"",label:e.$t("User.reset"),type:"reset",color:"primary",flat:""}})],1)],1)],1)},v=[],x=s("515f"),q={name:"User",data(){return{name:"",password:"",isPwd:!0,phone:"",newUser:!1,editUser:!1,exitUser:!1}},methods:{submitUser(){const e={name:this.name,password:this.password};this.newUser||this.editUser?(e.phone=this.phone,this.newUser?e.id="new":e.id=this.getUser._id,this.$store.dispatch("user/saveUser",e).then(this.$router.push("/"))):this.$store.dispatch("user/loginUser",e).then(this.$router.push("/"))},onReset(){this.name="",this.password="",this.phone="",this.newUser=!1,this.$refs.name.resetValidation(),this.$refs.password.resetValidation(),(this.newUser||this.editUser)&&this.$refs.phone.resetValidation()},onExitUser(){x["a"].remove("userid"),this.$store.dispatch("user/exitUser"),this.$store.dispatch("group/exitUser"),this.$store.dispatch("item/exitUser"),this.name="",this.password="",this.phone=""}},mounted(){this.getUser&&(this.name=this.getUser.name,this.password=this.getUser.password,this.phone=this.getUser.phone)},computed:{getUser(){return this.$store.getters["user/getUser"]}}},_=q,k=s("0378"),y=s("27f9"),C=s("0016"),Q=s("8f8e"),L=s("9c40"),S=Object(c["a"])(_,$,v,!1,null,null,null),P=S.exports;f()(S,"components",{QForm:k["a"],QInput:y["a"],QIcon:C["a"],QCheckbox:Q["a"],QBtn:L["a"]});var O={components:{LangSwitcher:w,User:P},name:"Options",props:{langSet:Array,lang:String}},E=O,I=s("9989"),j=Object(c["a"])(E,r,n,!1,null,null,null);t["default"]=j.exports;f()(j,"components",{QPage:I["a"]})}}]);